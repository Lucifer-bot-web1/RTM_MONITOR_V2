{% extends "base.html" %}

{% block content %}
<div class="dashboard-grid" style="grid-template-columns: repeat(3, 1fr); grid-template-rows: auto;">

    <div class="panel">
        <div class="panel-header">Interface Settings</div>
        <div class="panel-body">
            <form method="post">
                <input type="hidden" name="section" value="theme">
                <label>Theme Mode</label>
                <select name="theme_style" class="form-control">
                    <option value="dark">Enterprise Dark (Active)</option>
                    <option value="light">Light Mode</option>
                </select>
                <button class="btn-primary full-width" style="margin-top:10px;">Save Interface</button>
            </form>
        </div>
    </div>

    <div class="panel">
        <div class="panel-header">Polling Engine</div>
        <div class="panel-body">
            <form method="post">
                <input type="hidden" name="section" value="ping">
                <label>Ping Interval (sec)</label>
                <input name="ping_timeout" class="form-control" value="30">

                <label>Retry Threshold</label>
                <input name="threshold" class="form-control" value="3">

                <button class="btn-primary full-width" style="margin-top:10px;">Update Engine</button>
            </form>
        </div>
    </div>

    <div class="panel">
        <div class="panel-header">Database & Backup</div>
        <div class="panel-body">
            <div style="display:flex; gap:10px; margin-top:20px;">
                <a href="{{ url_for('main.backup_download') }}" class="btn-primary full-width" style="text-align:center; background:#f39c12; text-decoration:none;">
                    <i class="fa-solid fa-download"></i> BACKUP
                </a>
                <button class="btn-primary full-width" style="background:#e74c3c;">
                    <i class="fa-solid fa-upload"></i> RESTORE
                </button>
            </div>
        </div>
    </div>

    <div class="panel">
        <div class="panel-header">Notifications (Telegram)</div>
        <div class="panel-body">
            <form method="post">
                <input type="hidden" name="section" value="telegram">
                <label>Bot Token</label>
                <input name="token" class="form-control" type="password" placeholder="xoxb-...">

                <label>Chat ID</label>
                <input name="chat_id" class="form-control" placeholder="-100...">

                <button class="btn-primary full-width" style="margin-top:10px;">Test & Save</button>
            </form>
        </div>
    </div>
</div>

<style>
    .form-control { width: 100%; background: #0b0c0e; border: 1px solid var(--border); color: white; padding: 8px; margin-bottom: 10px; border-radius: 4px; }
    .btn-primary { background: var(--color-blue); color: white; border: none; padding: 10px; border-radius: 4px; cursor: pointer; font-weight: bold; width:100%; }
    label { font-size: 11px; color: var(--text-muted); display: block; margin-bottom: 4px; }
</style>
{% endblock %}