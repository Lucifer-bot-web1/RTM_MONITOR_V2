{% extends "base.html" %}

{% block content %}
<h2 style="margin-top:0;">Live Overview</h2>

<div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
    <div class="card">
        <div style="font-size:0.9rem; color:var(--text-muted);">UP DEVICES</div>
        <div style="font-size:2rem; font-weight:bold; color:var(--success);">{{ up }}</div>
    </div>
    <div class="card">
        <div style="font-size:0.9rem; color:var(--text-muted);">DOWN DEVICES</div>
        <div style="font-size:2rem; font-weight:bold; color:var(--danger);">{{ down }}</div>
    </div>
</div>

<div class="card" style="padding:0; overflow:hidden;">
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>IP Address</th>
                    <th>Device Name</th>
                    <th>State</th>
                    <th>RTT</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for d in devices %}
                <tr id="row_{{ d.ip.replace('.','_') }}">
                    <td>{{ d.ip }}</td>
                    <td>{{ d.name }}</td>
                    <td><span class="badge {{ d.state.lower() }}">{{ d.state }}</span></td>
                    <td class="rtt-val">-</td>
                    <td>
                        <a href="#" class="btn btn-primary" style="padding:4px 8px; font-size:0.8rem;">View</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}